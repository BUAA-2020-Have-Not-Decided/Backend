<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="cn.edu.buaa.scholarshipserver.dao.PatentMapper">
    <resultMap id="BaseResultMap" type="cn.edu.buaa.scholarshipserver.models.Patent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <id column="PatentId" jdbcType="BIGINT" property="patentid"/>
        <result column="Abtract" jdbcType="VARCHAR" property="abtract"/>
        <result column="ApplicationDate" jdbcType="DATE" property="applicationdate"/>
        <result column="Agency" jdbcType="VARCHAR" property="agency"/>
        <result column="ApplicationNumber" jdbcType="VARCHAR" property="applicationnumber"/>
        <result column="Agent" jdbcType="VARCHAR" property="agent"/>
        <result column="Content" jdbcType="VARCHAR" property="content"/>
        <result column="Province" jdbcType="VARCHAR" property="province"/>
        <result column="Location" jdbcType="VARCHAR" property="location"/>
        <result column="ClassificationNumber" jdbcType="VARCHAR" property="classificationnumber"/>
        <result column="MainClassificationNumber" jdbcType="VARCHAR" property="mainclassificationnumber"/>
        <result column="Inventor" jdbcType="VARCHAR" property="inventor"/>
        <result column="PublishDate" jdbcType="DATE" property="publishdate"/>
        <result column="Applicant" jdbcType="VARCHAR" property="applicant"/>
        <result column="CurrentObligee" jdbcType="VARCHAR" property="currentobligee"/>
        <result column="PublishNumber" jdbcType="VARCHAR" property="publishnumber"/>
        <result column="Title" jdbcType="VARCHAR" property="title"/>
        <result column="State" jdbcType="VARCHAR" property="state"/>
    </resultMap>
    <sql id="Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Update_By_Example_Where_Clause">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        <where>
            <foreach collection="example.oredCriteria" item="criteria" separator="or">
                <if test="criteria.valid">
                    <trim prefix="(" prefixOverrides="and" suffix=")">
                        <foreach collection="criteria.criteria" item="criterion">
                            <choose>
                                <when test="criterion.noValue">
                                    and ${criterion.condition}
                                </when>
                                <when test="criterion.singleValue">
                                    and ${criterion.condition} #{criterion.value}
                                </when>
                                <when test="criterion.betweenValue">
                                    and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                                </when>
                                <when test="criterion.listValue">
                                    and ${criterion.condition}
                                    <foreach close=")" collection="criterion.value" item="listItem" open="("
                                             separator=",">
                                        #{listItem}
                                    </foreach>
                                </when>
                            </choose>
                        </foreach>
                    </trim>
                </if>
            </foreach>
        </where>
    </sql>
    <sql id="Base_Column_List">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        PatentId, Abtract, ApplicationDate, Agency, ApplicationNumber, Agent, Content, Province,
        Location, ClassificationNumber, MainClassificationNumber, Inventor, PublishDate,
        Applicant, CurrentObligee, PublishNumber, Title, State
    </sql>
    <select id="selectByExample" parameterType="cn.edu.buaa.scholarshipserver.models.PatentExample"
            resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <if test="distinct">
            distinct
        </if>
        <include refid="Base_Column_List"/>
        from Patent
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
        <if test="orderByClause != null">
            order by ${orderByClause}
        </if>
    </select>
    <select id="selectByPrimaryKey" parameterType="java.lang.Long" resultMap="BaseResultMap">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select
        <include refid="Base_Column_List"/>
        from Patent
        where PatentId = #{patentid,jdbcType=BIGINT}
    </select>
    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from Patent
        where PatentId = #{patentid,jdbcType=BIGINT}
    </delete>
    <delete id="deleteByExample" parameterType="cn.edu.buaa.scholarshipserver.models.PatentExample">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        delete from Patent
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </delete>
    <insert id="insert" parameterType="cn.edu.buaa.scholarshipserver.models.Patent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into Patent (PatentId, Abtract, ApplicationDate,
        Agency, ApplicationNumber, Agent,
        Content, Province, Location,
        ClassificationNumber, MainClassificationNumber,
        Inventor, PublishDate, Applicant,
        CurrentObligee, PublishNumber, Title,
        State)
        values (#{patentid,jdbcType=BIGINT}, #{abtract,jdbcType=VARCHAR}, #{applicationdate,jdbcType=DATE},
        #{agency,jdbcType=VARCHAR}, #{applicationnumber,jdbcType=VARCHAR}, #{agent,jdbcType=VARCHAR},
        #{content,jdbcType=VARCHAR}, #{province,jdbcType=VARCHAR}, #{location,jdbcType=VARCHAR},
        #{classificationnumber,jdbcType=VARCHAR}, #{mainclassificationnumber,jdbcType=VARCHAR},
        #{inventor,jdbcType=VARCHAR}, #{publishdate,jdbcType=DATE}, #{applicant,jdbcType=VARCHAR},
        #{currentobligee,jdbcType=VARCHAR}, #{publishnumber,jdbcType=VARCHAR}, #{title,jdbcType=VARCHAR},
        #{state,jdbcType=VARCHAR})
    </insert>
    <insert id="insertSelective" parameterType="cn.edu.buaa.scholarshipserver.models.Patent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        insert into Patent
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="patentid != null">
                PatentId,
            </if>
            <if test="abtract != null">
                Abtract,
            </if>
            <if test="applicationdate != null">
                ApplicationDate,
            </if>
            <if test="agency != null">
                Agency,
            </if>
            <if test="applicationnumber != null">
                ApplicationNumber,
            </if>
            <if test="agent != null">
                Agent,
            </if>
            <if test="content != null">
                Content,
            </if>
            <if test="province != null">
                Province,
            </if>
            <if test="location != null">
                Location,
            </if>
            <if test="classificationnumber != null">
                ClassificationNumber,
            </if>
            <if test="mainclassificationnumber != null">
                MainClassificationNumber,
            </if>
            <if test="inventor != null">
                Inventor,
            </if>
            <if test="publishdate != null">
                PublishDate,
            </if>
            <if test="applicant != null">
                Applicant,
            </if>
            <if test="currentobligee != null">
                CurrentObligee,
            </if>
            <if test="publishnumber != null">
                PublishNumber,
            </if>
            <if test="title != null">
                Title,
            </if>
            <if test="state != null">
                State,
            </if>
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="patentid != null">
                #{patentid,jdbcType=BIGINT},
            </if>
            <if test="abtract != null">
                #{abtract,jdbcType=VARCHAR},
            </if>
            <if test="applicationdate != null">
                #{applicationdate,jdbcType=DATE},
            </if>
            <if test="agency != null">
                #{agency,jdbcType=VARCHAR},
            </if>
            <if test="applicationnumber != null">
                #{applicationnumber,jdbcType=VARCHAR},
            </if>
            <if test="agent != null">
                #{agent,jdbcType=VARCHAR},
            </if>
            <if test="content != null">
                #{content,jdbcType=VARCHAR},
            </if>
            <if test="province != null">
                #{province,jdbcType=VARCHAR},
            </if>
            <if test="location != null">
                #{location,jdbcType=VARCHAR},
            </if>
            <if test="classificationnumber != null">
                #{classificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="mainclassificationnumber != null">
                #{mainclassificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="inventor != null">
                #{inventor,jdbcType=VARCHAR},
            </if>
            <if test="publishdate != null">
                #{publishdate,jdbcType=DATE},
            </if>
            <if test="applicant != null">
                #{applicant,jdbcType=VARCHAR},
            </if>
            <if test="currentobligee != null">
                #{currentobligee,jdbcType=VARCHAR},
            </if>
            <if test="publishnumber != null">
                #{publishnumber,jdbcType=VARCHAR},
            </if>
            <if test="title != null">
                #{title,jdbcType=VARCHAR},
            </if>
            <if test="state != null">
                #{state,jdbcType=VARCHAR},
            </if>
        </trim>
    </insert>
    <select id="countByExample" parameterType="cn.edu.buaa.scholarshipserver.models.PatentExample"
            resultType="java.lang.Integer">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        select count(*) from Patent
        <if test="_parameter != null">
            <include refid="Example_Where_Clause"/>
        </if>
    </select>
    <update id="updateByExampleSelective" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update Patent
        <set>
            <if test="record.patentid != null">
                PatentId = #{record.patentid,jdbcType=BIGINT},
            </if>
            <if test="record.abtract != null">
                Abtract = #{record.abtract,jdbcType=VARCHAR},
            </if>
            <if test="record.applicationdate != null">
                ApplicationDate = #{record.applicationdate,jdbcType=DATE},
            </if>
            <if test="record.agency != null">
                Agency = #{record.agency,jdbcType=VARCHAR},
            </if>
            <if test="record.applicationnumber != null">
                ApplicationNumber = #{record.applicationnumber,jdbcType=VARCHAR},
            </if>
            <if test="record.agent != null">
                Agent = #{record.agent,jdbcType=VARCHAR},
            </if>
            <if test="record.content != null">
                Content = #{record.content,jdbcType=VARCHAR},
            </if>
            <if test="record.province != null">
                Province = #{record.province,jdbcType=VARCHAR},
            </if>
            <if test="record.location != null">
                Location = #{record.location,jdbcType=VARCHAR},
            </if>
            <if test="record.classificationnumber != null">
                ClassificationNumber = #{record.classificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="record.mainclassificationnumber != null">
                MainClassificationNumber = #{record.mainclassificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="record.inventor != null">
                Inventor = #{record.inventor,jdbcType=VARCHAR},
            </if>
            <if test="record.publishdate != null">
                PublishDate = #{record.publishdate,jdbcType=DATE},
            </if>
            <if test="record.applicant != null">
                Applicant = #{record.applicant,jdbcType=VARCHAR},
            </if>
            <if test="record.currentobligee != null">
                CurrentObligee = #{record.currentobligee,jdbcType=VARCHAR},
            </if>
            <if test="record.publishnumber != null">
                PublishNumber = #{record.publishnumber,jdbcType=VARCHAR},
            </if>
            <if test="record.title != null">
                Title = #{record.title,jdbcType=VARCHAR},
            </if>
            <if test="record.state != null">
                State = #{record.state,jdbcType=VARCHAR},
            </if>
        </set>
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByExample" parameterType="map">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update Patent
        set PatentId = #{record.patentid,jdbcType=BIGINT},
        Abtract = #{record.abtract,jdbcType=VARCHAR},
        ApplicationDate = #{record.applicationdate,jdbcType=DATE},
        Agency = #{record.agency,jdbcType=VARCHAR},
        ApplicationNumber = #{record.applicationnumber,jdbcType=VARCHAR},
        Agent = #{record.agent,jdbcType=VARCHAR},
        Content = #{record.content,jdbcType=VARCHAR},
        Province = #{record.province,jdbcType=VARCHAR},
        Location = #{record.location,jdbcType=VARCHAR},
        ClassificationNumber = #{record.classificationnumber,jdbcType=VARCHAR},
        MainClassificationNumber = #{record.mainclassificationnumber,jdbcType=VARCHAR},
        Inventor = #{record.inventor,jdbcType=VARCHAR},
        PublishDate = #{record.publishdate,jdbcType=DATE},
        Applicant = #{record.applicant,jdbcType=VARCHAR},
        CurrentObligee = #{record.currentobligee,jdbcType=VARCHAR},
        PublishNumber = #{record.publishnumber,jdbcType=VARCHAR},
        Title = #{record.title,jdbcType=VARCHAR},
        State = #{record.state,jdbcType=VARCHAR}
        <if test="_parameter != null">
            <include refid="Update_By_Example_Where_Clause"/>
        </if>
    </update>
    <update id="updateByPrimaryKeySelective" parameterType="cn.edu.buaa.scholarshipserver.models.Patent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update Patent
        <set>
            <if test="abtract != null">
                Abtract = #{abtract,jdbcType=VARCHAR},
            </if>
            <if test="applicationdate != null">
                ApplicationDate = #{applicationdate,jdbcType=DATE},
            </if>
            <if test="agency != null">
                Agency = #{agency,jdbcType=VARCHAR},
            </if>
            <if test="applicationnumber != null">
                ApplicationNumber = #{applicationnumber,jdbcType=VARCHAR},
            </if>
            <if test="agent != null">
                Agent = #{agent,jdbcType=VARCHAR},
            </if>
            <if test="content != null">
                Content = #{content,jdbcType=VARCHAR},
            </if>
            <if test="province != null">
                Province = #{province,jdbcType=VARCHAR},
            </if>
            <if test="location != null">
                Location = #{location,jdbcType=VARCHAR},
            </if>
            <if test="classificationnumber != null">
                ClassificationNumber = #{classificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="mainclassificationnumber != null">
                MainClassificationNumber = #{mainclassificationnumber,jdbcType=VARCHAR},
            </if>
            <if test="inventor != null">
                Inventor = #{inventor,jdbcType=VARCHAR},
            </if>
            <if test="publishdate != null">
                PublishDate = #{publishdate,jdbcType=DATE},
            </if>
            <if test="applicant != null">
                Applicant = #{applicant,jdbcType=VARCHAR},
            </if>
            <if test="currentobligee != null">
                CurrentObligee = #{currentobligee,jdbcType=VARCHAR},
            </if>
            <if test="publishnumber != null">
                PublishNumber = #{publishnumber,jdbcType=VARCHAR},
            </if>
            <if test="title != null">
                Title = #{title,jdbcType=VARCHAR},
            </if>
            <if test="state != null">
                State = #{state,jdbcType=VARCHAR},
            </if>
        </set>
        where PatentId = #{patentid,jdbcType=BIGINT}
    </update>
    <update id="updateByPrimaryKey" parameterType="cn.edu.buaa.scholarshipserver.models.Patent">
        <!--
          WARNING - @mbggenerated
          This element is automatically generated by MyBatis Generator, do not modify.
        -->
        update Patent
        set Abtract = #{abtract,jdbcType=VARCHAR},
        ApplicationDate = #{applicationdate,jdbcType=DATE},
        Agency = #{agency,jdbcType=VARCHAR},
        ApplicationNumber = #{applicationnumber,jdbcType=VARCHAR},
        Agent = #{agent,jdbcType=VARCHAR},
        Content = #{content,jdbcType=VARCHAR},
        Province = #{province,jdbcType=VARCHAR},
        Location = #{location,jdbcType=VARCHAR},
        ClassificationNumber = #{classificationnumber,jdbcType=VARCHAR},
        MainClassificationNumber = #{mainclassificationnumber,jdbcType=VARCHAR},
        Inventor = #{inventor,jdbcType=VARCHAR},
        PublishDate = #{publishdate,jdbcType=DATE},
        Applicant = #{applicant,jdbcType=VARCHAR},
        CurrentObligee = #{currentobligee,jdbcType=VARCHAR},
        PublishNumber = #{publishnumber,jdbcType=VARCHAR},
        Title = #{title,jdbcType=VARCHAR},
        State = #{state,jdbcType=VARCHAR}
        where PatentId = #{patentid,jdbcType=BIGINT}
    </update>

    <select id="getScholarByUserId" parameterType="int" resultType="cn.edu.buaa.scholarshipserver.models.Scholar">
    select * from Scholar where UID = #{UID}
  </select>

    <select id="countOfPatentPossess" parameterType="int" resultType="java.util.HashMap">
    select * from PatentPossess where OwnerID = #{scholarId} and PatentId = #{patentId}
  </select>

    <select id="maxSequenceNumber" parameterType="int" resultType="java.util.HashMap">
    select * from PatentPossess where PatentId = #{patentId}
  </select>

    <insert id="addPatentPossess" parameterType="map">
    insert into PatentPossess(PatentId,OwnerID,SequenceNumber,PossessDatetime)
    values(#{patentid},#{scholarid},#{sequence},#{date})
  </insert>
</mapper>